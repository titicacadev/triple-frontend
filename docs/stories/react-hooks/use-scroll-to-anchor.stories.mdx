import { useState, useEffect } from 'react'
import { Meta, Story, Props } from '@storybook/addon-docs/blocks'
import { select, text, number } from '@storybook/addon-knobs'
import { Container, Button } from '@titicaca/core-elements'
import { useScrollToAnchor } from '@titicaca/react-hooks'

<Meta title="react-hooks | useScrollToAnchor" />

# useScrollToAnchor

특정 anchor 의 위치로 스크롤을 이동하려할때 사용할 수 있는 hook 입니다.

<Story name="Basic">
  {() => {
    const [anchor, setAnchor] = useState('#my-anchor')
    const delay = number('delay', 100)
    const offset = number('offset', 0)
    const align = select('align', ['top', 'middle', 'bottom'])
    const ease = text('ease', 'out-circ')
    const duration = number('duration', 500)
    useEffect(() => {
      document.documentElement.scrollTo(0, 0)
      setAnchor('')
    }, [delay, offset, align, ease, duration])
    useEffect(() => {
      if (anchor === '') {
        setAnchor('#my-anchor')
      }
    }, [anchor])
    useScrollToAnchor({
      anchor,
      delay,
      offset,
      align,
      ease,
      duration
    })
    return (
      <div style={{ paddingTop: '90%', paddingBottom: '100%', background: 'linear-gradient(#000000, #ffffff, #000000)' }}>
        <Button onClick={(e) => {
          e.preventDefault()
          document.documentElement.scrollTo(0, 0)
          setAnchor('')
        }}>Replay</Button>
        <h1 id="my-anchor">My Anchor</h1>
      </div>
    )
  }}
</Story>

```js
useScrollToAnchor({
  anchor: '#my-anchor',
  delay: 100,
  duration: 500
})
```

## Props

```js
anchor?: string = window.location.hash
delay?: number = 1500
// See https://github.com/willhoag/scroll-to-element#readme
offset?: number = 0
align?: 'top' | 'middle' | 'bottom' = 'top'
ease?: string = 'out-circ'
duration?: number = 1000
```